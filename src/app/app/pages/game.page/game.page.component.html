<div class="game-root">
  <header class="game-header">
    <!-- Help icon on the left -->
    <button class="help-icon" (click)="openHelp()" aria-label="Help">
      <span class="icon-content">?</span>
    </button>
    
    <!-- Centered title -->
    <h1 class="game-logo">
      <span class="logo-text overlap-logo">
        <span class="top">HIDDEN</span>
        <span class="bottom">WORD</span>
      </span>
    </h1>
    
    <!-- Settings icon on the right -->
    <button class="icon" aria-label="Leaderboard" (click)="openEndModal()">üèÜ</button>
    <!-- Legal dropdown (added) -->
<div class="legal-menu">
  <button
    class="icon legal-trigger"
    aria-label="Legal information"
    (click)="toggleLegalMenu()"
  >
    ‚ìò
  </button>

  <div class="legal-dropdown" *ngIf="showLegalMenu">
    <div class="legal-title" >¬© 2025 Hidden Word</div>
    <a routerLink="/articles" (click)="closeLegalMenu()">Articles</a>
    <a routerLink="/privacy-policy" (click)="closeLegalMenu()">Privacy Policy</a>
    <a routerLink="/terms-of-service" (click)="closeLegalMenu()">Terms of Service</a>
    <a routerLink="/cookie-policy" (click)="closeLegalMenu()">Cookie Policy</a>
    <a routerLink="/terms-of-sale" (click)="closeLegalMenu()">Terms of Sale</a>
    <a routerLink="/sitemap" (click)="closeLegalMenu()">Sitemap</a>
  </div>
</div>
  </header>
  
  <main class="game-main">
    <!-- Error Message -->
    <div class="error-popup" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    
    <!-- BOARD SECTION -->
    <section class="board-container">
      <div class="board">
        <div class="row" *ngFor="let row of rows; let ri = index">
          <div class="row-inner">
            <div class="tiles">
              <div
                class="tile"
                *ngFor="let cell of row.cells; let ci = index"
                [class.correct]="cell.state === 'correct'"
                [class.present]="cell.state === 'present'"
                [class.absent]="cell.state === 'absent'"
                [class.active]="ri === currentRow && ci === currentCol" 
              >
                {{ cell.letter || '' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- KEYBOARD SECTION -->
    <section class="keyboard-container">
      <div class="keyboard">
        <div class="kb-row" *ngFor="let row of keyboardRows">
          <button
            *ngFor="let key of row"
            class="key"
            [class.correct]="getKeyState(key) === 'correct'"
            [class.present]="getKeyState(key) === 'present'"
            [class.absent]="getKeyState(key) === 'absent'"
            (click)="onKey(key)"
            type="button"
          >
            {{ key === 'Backspace' ? '‚å´' : key }}
          </button>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- Modals -->
<app-help-modal *ngIf="showHelp" (close)="closeHelp()"></app-help-modal>

<app-end-modal 
  *ngIf="showEndModal" 
  [didWin]="didWin" 
  [secretWord]="secret"
  [gameCompleted]="gameCompleted"
  [rows]="rows"
  (close)="showEndModal = false">
</app-end-modal>